# Vibe-Coding-benchmark-2025.3
2025.3に実施したwindsurfとClaude Code、Claude Code MCPの実装を比較する実験結果のレポートです。\
(暫定版、詳細な内容は後でZennに投稿します)
<br/>
<br/>
<br/>

# レギュレーション
- テーマはSlither.ioのクローン実装とし、通信機能はオミット、NPCで模擬
- 全てのケースで同じプロンプトをチャットUIから入力
- 公平を期すためにカスタムルールは不使用
- 条件を揃えるために、バグが存在する場合でも追加の修正は指示しない（ワンショット）
- 実験結果を識別するためタイトル部分は人間が微調整（JS,CSSには触らない）
<br/>
<br/>

# 使用したプロンプト

```
Slither.io シングルプレイヤーベンチマーク
課題概要
あなたの課題は、人気ゲーム「slither.io」のシングルプレイヤー版をフロントエンドのみで実装することです。このゲームはNPCの挙動も含め、GitHub Pagesでホスト可能な完全なブラウザゲームとして動作する必要があります。
この課題は、大規模言語モデル（LLM）の性能をゲーム開発タスクでベンチマークするために設計されています。特に、複雑なゲームロジック、NPCの人工知能、ユーザーインターフェース設計、パフォーマンス最適化などの能力を評価します。
また設計や実装に必要な情報は全て以下に述べていますので作業の各工程で人間の許可を取る必要はありません。また時間についても制限を設けないので、十分に設計、検討を行い。製品レベルの実装を行うように心がけてください。
また必要であれば適宜WEBを参照してください。
1. ゲームメカニクスの詳細
1.1 基本ゲームプレイ
* プレイヤーは蛇（スネーク）を操作し、フィールド上の餌を集めて成長します
* マウスカーソルの方向に蛇が進み、マウスボタンを押している間は加速します（体の一部を消費）
* 他の蛇（NPC）の体に頭がぶつかるとゲームオーバーになります
* 他の蛇の頭があなたの体にぶつかると、その蛇が死亡し、多くの餌を放出します
* 蛇の長さがそのままスコアとなります
* プレイヤーの蛇は常に一定の速度で移動し、停止することはできません
1.2 フィールドと視覚要素
* 六角形グリッドのシンプルな背景を持つ有限マップ（5000×5000ピクセル程度、境界に達すると反対側に出る）
* プレイヤーの蛇が常に画面中央に表示され、背景とNPCが相対的に移動
* 右下にプレイヤーの位置を示すミニマップを表示
* 右上に上位10位までのNPCとプレイヤーのスコアをリアルタイム表示
* 蛇のサイズに応じた視覚効果（色の変化など）
* 餌を集めた時や蛇が死亡した時の視覚的フィードバック
1.3 シングルプレイモード特有の要素
* 難易度設定（Easy、Normal、Hard）によってNPCの数と攻撃性が変化
* プレイ時間が長くなるほどNPCの平均サイズが大きくなる
* ゲームオーバー後、ワンクリックで新しいゲームを開始可能
* セッション統計（プレイ時間、最大サイズ、倒したNPC数など）の表示
* ブラウザのlocalStorage APIを使用したハイスコアの保存
2. NPC挙動の実装要件
2.1 NPC種類と特性
以下の3種類のNPCを実装してください：
1. 通常NPC: バランスの取れた行動パターン（探索70%、攻撃20%、逃走10%）
2. 攻撃的NPC: 積極的に他の蛇を狙う（探索30%、攻撃60%、逃走10%）
3. 臆病なNPC: 危険を避け、安全に餌を集める（探索80%、攻撃5%、逃走15%）
各NPCタイプは視覚的に区別可能にし（色やパターンなど）、それぞれ異なる動きのパターンを持つべきです。
2.2 基本行動アルゴリズム
NPCは以下の状態を持つ状態マシンで行動を制御します：
* 探索状態: 餌を探して移動（ランダム方向または確率的探索）
* 収集状態: 発見した餌に向かって移動（直線または障害物回避経路）
* 回避状態: 危険を検知して回避行動
* 攻撃状態: 他の蛇を狙って攻撃
* 逃走状態: 危険から逃げる
状態遷移は環境条件（近くの蛇、餌の位置、自身のサイズなど）に基づいて決定されます。
2.3 高度な行動パターン（オプション）
以下の高度な行動パターンの実装は任意です：
* 罠の設置: 大きなNPCが小さな蛇を囲い込む戦略（8の字を描くように移動）
* 協調行動: 複数のNPCが意図せず協力しているように見える行動パターン
* 学習的要素: プレイヤーの行動パターンを簡易的に学習する機能
* 資源集中エリアの競争: 餌が多いエリアで複数のNPCが競争する行動
2.4 難易度による挙動調整
* Easy:
    * NPCの最大数: 20
    * 攻撃的NPCの割合: 10%
    * NPCの反応速度: プレイヤーの70%程度
    * NPCの最大サイズ制限: プレイヤー初期サイズの5倍まで
* Normal:
    * NPCの最大数: 40
    * バランスの取れたNPC分布（全タイプをほぼ均等に）
    * 標準的な反応速度（プレイヤーと同等）
    * 時間経過とともに徐々に難易度が上昇
* Hard:
    * NPCの最大数: 60
    * 攻撃的NPCの割合: 40%以上
    * 反応速度: プレイヤーの120%程度
    * NPCの初期サイズが大きい
    * 餌の希少性が高い（競争を強制）
3. 技術的な実装ガイドライン
3.1 技術仕様と制約
* 技術選定は全てあなたに一任します
3.2 コードアーキテクチャ
* ファイル構造とコードアーキテクチャはあなた自身で設計してください
3.3 パフォーマンス最適化
* ビューポート最適化: 画面に表示されている要素のみを更新・描画
* 衝突検出の最適化: 空間分割法（Quadtreeなど）または単純な距離ベースのカリングを使用
* NPCの処理: すべてのNPCが毎フレーム完全な意思決定を行う必要はない（フレームを分散して処理）
* メモリ管理: 不要になったオブジェクトの適切な破棄
* レンダリング最適化: 背景などの静的要素は別レイヤーに描画
3.4 レスポンシブデザイン（オプション）
* 様々な画面サイズに対応するレスポンシブなデザインを実装
* モバイル対応はオプションですが、実装する場合はタッチ操作に対応
4. 評価基準
4.1 必須機能（最低限の実装）
* プレイヤーの蛇の基本操作（移動、加速）
* 最低2種類のNPCタイプの実装（各10体以上）
* 餌の生成と収集による成長システム
* 正確な衝突判定と死亡処理
* スコア表示とリーダーボード
* 3段階の難易度設定
* ゲームオーバー画面と再開機能
* localStorage APIによるハイスコアの保存
4.2 パフォーマンス目標
* 標準的なPCで60FPS（最低でも30FPS）を維持
* 難易度「Hard」設定（最大60 NPC）でも安定動作
* 初期ロード時間: 10秒以内
* メモリリークがないこと（30分以上のプレイでも安定動作）
4.3 コード品質評価
* コードの構造化と整理（モジュール性、関心の分離）
* 適切な命名規則とコメント
* パフォーマンス最適化の実装
* エラー処理の実装
4.4 創造性評価
* ビジュアルデザインの魅力と一貫性
* ゲームプレイの流動性と操作感
* サウンドエフェクトとBGMの実装（オプション）
* 独自の機能や改良点の追加

5. 提出物チェックリスト
* 完全に動作するHTMLファイル
* すべての必要なJavaScriptファイル
* スタイルシート
* アセット（画像、音声など）
* 実装の概要説明（500字程度）
* 工夫した点や独自の機能（箇条書き3-5項目）
* ゲームの操作方法説明
6. 評価方法
評価は全て人間が行いますが、その判断基準を開示します：
1. 基本機能の完成度 (25%)
    * すべての必須機能が正しく実装されているか
2. NPCの知性と行動の自然さ (25%)
    * NPCの動きが予測可能すぎないか
    * 状況に応じた適切な意思決定を行うか
    * 違うタイプのNPCの行動パターンに明確な差があるか
3. パフォーマンス最適化 (20%)
    * フレームレートの安定性
    * メモリ管理の適切さ
    * 衝突検出の効率性
4. コード品質 (15%)
    * コードの構造化と整理
    * 命名規則とコメントの適切さ
    * エラー処理の実装
5. ユーザー体験と創造性 (15%)
    * 視覚デザインの魅力
    * ゲームプレイの流動性
    * 独自機能や改良点
```
 
# リポジトリへのリンク
[Windsurf版（MCP不使用）](https://github.com/haruaki-nayuta/Slither.io-Clone-Windsurf-Claude-3.7-Sonnet-noMCP)\
[Windsurf版（ClaudeCodeMCP使用）](https://github.com/haruaki-nayuta/Slither.io-Clone-Windsurf-Claude-3.7-Sonnet-withClaudeCodeMCP)\
[ClaudeCode版（MCP不使用）](https://github.com/haruaki-nayuta/Slither.io-Clone-ClaudeCode-Claude-3.7-Sonnet-noMCP)
<br/>
<br/>
<br/>


# 詳細な分析・レポート

そのうちZennで書きます。多分3月以内には投稿できるはず……
<br/>
<br/>
<br/>

# ご意見ご感想
[Twitter（X）](https://x.com/haruaki_nayuta)にお願いします。
